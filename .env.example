# MarketBrowserMod Environment Configuration
# Task 13: Environment variable configuration template
# Copy this file to .env and configure the values for your deployment

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Bot credentials - REQUIRED
# Create a bot account through MyDU backoffice with these credentials
MARKET_BOT_LOGIN=marketbrowser_bot
MARKET_BOT_PASSWORD=your_secure_password_here

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Orleans queueing service URL
# Default: http://queueing:9630 (internal Docker network)
QUEUEING=http://queueing:9630

# Web server port for API and frontend
# Default: 8080
WEB_PORT=8080

# =============================================================================
# DATA REFRESH CONFIGURATION
# =============================================================================

# How often to refresh market data (minutes)
# Default: 15 minutes
# Lower values = more current data but higher server load
REFRESH_INTERVAL_MINUTES=15

# Maximum age before cached data is considered stale (minutes)
# Default: 60 minutes
MAX_CACHE_AGE_MINUTES=60

# Maximum retry attempts for failed Orleans operations
# Default: 3
MAX_RETRY_ATTEMPTS=3

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Delay between API calls to prevent server overload (milliseconds)
# Default: 1000ms (1 second)
RATE_LIMIT_DELAY_MS=1000

# Timeout for Orleans connection operations (seconds)
# Default: 30 seconds
CONNECTION_TIMEOUT_SECONDS=30

# Delay before attempting session reconnection (milliseconds)
# Default: 5000ms (5 seconds)
SESSION_RECONNECT_DELAY_MS=5000

# Maximum consecutive failures before extended delay
# Default: 5
MAX_CONSECUTIVE_FAILURES=5

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Application log level
# Options: Trace, Debug, Information, Warning, Error, Critical
# Default: Information
LOG_LEVEL=Information

# ASP.NET Core environment
# Options: Development, Production
# Default: Production
ASPNETCORE_ENVIRONMENT=Production

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================

# Maximum distance for route calculations (kilometers)
# Default: 1000000 (1 million km - effectively unlimited)
MAX_DISTANCE_KM=1000000

# Minimum profit margin threshold for showing opportunities
# Default: 0.1 (10% profit margin)
# Example: 0.05 = 5%, 0.2 = 20%
PROFIT_MARGIN_THRESHOLD=0.1

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Path to configuration files (for docker-compose volumes)
CONFPATH=./config

# Path to log files (for docker-compose volumes)
LOGPATH=./logs

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================

# 1. Bot Account Setup:
#    - Create a bot account in MyDU backoffice
#    - Use the credentials above (MARKET_BOT_LOGIN/MARKET_BOT_PASSWORD)
#    - The bot needs basic market access permissions
#    - No special admin permissions required

# 2. Network Configuration:
#    - The mod uses internal Docker network (10.5.0.x range)
#    - Default IP assignment: 10.5.0.52 (configurable in docker-compose.yml)
#    - Web interface accessible on configured WEB_PORT

# 3. Resource Requirements:
#    - Memory: ~256-512MB depending on market size
#    - CPU: Low usage, mostly I/O bound
#    - Storage: Minimal, uses in-memory caching

# 4. Security Considerations:
#    - Keep BOT_PASSWORD secure and use a strong password
#    - Consider using Docker secrets for production deployments
#    - The web interface has no authentication - secure with reverse proxy if needed

# 5. Monitoring:
#    - Health check endpoints: /health, /health/ready, /health/live
#    - Metrics available at: /api/market/stats
#    - Container logs provide detailed operational information